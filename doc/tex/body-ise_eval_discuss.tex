% =============================================================================

\REFTAB{tab:eval:hw}
demonstrates that all ISE variants
imply a modest area overhead relative to their host core.
The RV32 \CORE{1} area results are not listed, as the ISE overhead compared to
the area of a synthesised Rocket Tile with caches was less than $1\%$ in all
cases.
\REFTAB{tab:eval:sw:size}
shows all ISE variants
having similarly small memory footprints in terms of both instruction code and
data.
Beyond this, and per 
\REFSEC{sec:ise:design},
the primary metric of interest is efficiency in terms of
improvement in execution latency per area:
this metric draws on data from
\REFTAB{tab:eval:hw}
plus either
\REFTAB{tab:eval:sw:perf:2}
or
\REFTAB{tab:eval:sw:perf:1}
for the \CORE{2} or \CORE{1} core respectively,
and, for each variant, is computed by dividing the improvement in execution 
latency (relative to the T-table baseline) by the normalised area (i.e., the 
ISE area column of \REFTAB{tab:eval:hw}). We deliberately omit the area of
the host core from this calculation, as this fixed overhead dominates the
final value and detracts from the comparison between ISEs themselves.

\REFTAB{tab:eval:results} 
captures the results for the \CORE{1} core, although the same conclusion can 
be drawn for the \CORE{2} core.  Qualitatively, we place more of a weight on 
\ALG{Enc} 
and 
\ALG{Dec} 
vs.
\ALG{Enc-KeyExp} 
and 
\ALG{Dec-KeyExp},
because
typically many \ALG{Enc} or \ALG{Dec} operations are performed per
\ALG{KeyExp}.
For a $32$-bit core, our conclusion is that
\ISE{3} 
is the best option.
Despite not being the fastest (by a small margin), it is the most efficient,
and simplest to implement.
The area optimised \ISE{2} implementation sometimes comes close in
efficiency, but requires a more complex multi-cycle implementation
in this case.
For a $64$-bit core,
\ISE{4} 
is the best option, which is somewhat obvious because it specifically makes
use of the wider data-path.
With reference to
\REFTAB{tab:eval:sw:perf:1}, 
note that the number of cycles per instruction executed is relatively low.
This fact stems from use of the ROCC interface, in that forwarding of the 
result from an ISE instruction (that uses the ROCC) incurs an overhead vs. 
an ISE instruction; fine-grained integration of the AES-FU could therefore
incrementally improve the results.

We believe it is sensible to standardise different ISEs for the
RV32 and RV64 base ISAs.
This allows each ISE design to better suit the constraints of each
base ISA.
In the RV32 case, this acknowledges that such cores will most often
appear in resource-constrained, embedded or IoT class devices.
Hence, the most efficient ISE design is appropriate.
For necessarily larger RV64-based designs, it makes sense to take advantage
of the wider data-path, and acknowledge that these are more likely to
be application class cores. Hence, they will place a higher value
on performance than area-efficiency.

% -----------------------------------------------------------------------------

\begin{adjustbox}{center,caption={Hardware implementation metrics 
                                  (e.g., area and Circuit Depth)
                                  for each ISE variant.
                                 },label={tab:eval:hw},float={table}[!p]}
\centering
\begin{tabular}{|c|c@{\;}c|rr|rr|}
\hline
  \multicolumn{1}{|c|}{ISA}
& \multicolumn{1}{ c }{Variant}
& \multicolumn{1}{ c|}{(Goal)}
& \multicolumn{1}{ c|}{             ISE area}
& \multicolumn{1}{ c|}{             ISE Circuit Depth}
& \multicolumn{2}{ c|}{\CORE{2} $+$ ISE area}
\\
\hline
\hline
 RV32IMC &          &     &              &            &       37375 &       (1.00$\times$) \\
 RV32IMC & \ISE{1}  & (L) &        3472  & \bftab 19  &       41723 &       (1.12$\times$) \\
 RV32IMC & \ISE{1}  & (A) &        2174  &        22  &       40161 &       (1.07$\times$) \\
 RV32IMC & \ISE{2}  & (L) &        3547  & \bftab 19  &       41199 &       (1.10$\times$) \\
 RV32IMC & \ISE{2}  & (A) &        1381  &        21  &       38885 &       (1.04$\times$) \\
 RV32IMC & \ISE{3}  &     & \bftab 1157  &        30  &\bftab 38610 &\bftab (1.03$\times$) \\
 RV32IMC & \ISE{5}  & (L) &        4121  &        22  &       42070 &       (1.13$\times$) \\
 RV32IMC & \ISE{5}  & (A) &        1927  &        23  &       39251 &       (1.05$\times$) \\
\hline
\hline
  \multicolumn{1}{|c|}{ISA}
& \multicolumn{1}{ c }{Variant}
& \multicolumn{1}{ c|}{(Goal)}
& \multicolumn{1}{ c|}{             ISE area}
& \multicolumn{1}{ c|}{             ISE Circuit Depth}
& \multicolumn{2}{ c|}{\CORE{1} $+$ ISE area}
\\
\hline
 RV64IMC &          &     &$          $&$          $&$   3717607 $&$     (1.000\times)$ \\
 RV64IMC & \ISE{4}  &     &$     8312 $&$       27 $&$   3733786 $&$     (1.004\times)$ \\
\hline
\end{tabular}
\end{adjustbox}

\begin{adjustbox}{center,caption={Software implementation metrics 
                                  (i.e., memory footprint measured in bytes)
                                  for each ISE variant.
                                 },label={tab:eval:sw:size},float={table}[!p]}
\centering
\begin{tabular}{|c|c|r|r|r|r|r|}
\hline
  \multicolumn{1}{|c|}{ISA}
& \multicolumn{1}{ c|}{Variant}
& \multicolumn{1}{ c|}{$\ALG{Enc}$}
& \multicolumn{1}{ c|}{$\ALG{Dec}$}
& \multicolumn{1}{ c|}{$\ALG{Enc-KeyExp}$}
& \multicolumn{1}{ c|}{$\ALG{Dec-KeyExp}$}
& \multicolumn{1}{ c|}{.data} 
\\
\hline
\hline
%RV32IMC & Byte    &            &           &      312 &        0 &  522 \\
 RV32IMC & T-table &       804  &       804 &      154 &      174 & 5120 \\
 RV32IMC & \ISE{1} &       424  &       424 &\bftab 68 &        0 &   10 \\
 RV32IMC & \ISE{2} &\bftab 234  &\bftab 238 &\bftab 68 &       62 &   10 \\
 RV32IMC & \ISE{3} &       290  &       290 &       86 &       64 &   10 \\
 RV32IMC & \ISE{5} &       266  &       278 &      290 &        0 &   10 \\
\hline
 RV64IMC & \ISE{4} &       268  &       268 &      168 &      100 &    0 \\
\hline
\end{tabular}
\end{adjustbox}

\begin{adjustbox}{center,caption={Execution metrics
                                  for each ISE variant on the \CORE{2} core.
                                  Note that the $64$-bit \ISE{4} is absent, since there is no $64$-bit \CORE{2} core.
                                 },label={tab:eval:sw:perf:2},float={table}[!p]}
\centering
\begin{tabular}{|c|c@{\;}c|rr|rr|rr|rr|}
\hline
  \multicolumn{1}{|c|}{ISA}
& \multicolumn{1}{ c }{Variant}
& \multicolumn{1}{ c|}{(Goal)}
& \multicolumn{2}{ c|}{$\ALG{Enc}$}
& \multicolumn{2}{ c|}{$\ALG{Dec}$}
& \multicolumn{2}{ c|}{$\ALG{Enc-KeyExp}$}
& \multicolumn{2}{ c|}{$\ALG{Dec-KeyExp}$}
\\
\cline{4-11}
&
&
& \multicolumn{1}{ c|}{iret}
& \multicolumn{1}{ c|}{cycles}
& \multicolumn{1}{ c|}{iret}
& \multicolumn{1}{ c|}{cycles}
& \multicolumn{1}{ c|}{iret}
& \multicolumn{1}{ c|}{cycles}
& \multicolumn{1}{ c|}{iret}
& \multicolumn{1}{ c|}{cycles}
\\
\hline
\hline
%RV32IMC & Byte    &     &            &            &            &            &            &            &            &            \\
 RV32IMC & T-table &     &       998  &      1076  &       998  &      1103  &       466  &       554  &      1747  &      2346  \\ 
 RV32IMC & \ISE{1} & (L) &       518  &       593  &       518  &       607  &\bftab 198  &\bftab 291  &\bftab 204  &\bftab 310  \\
 RV32IMC & \ISE{1} & (A) &       518  &       753  &       518  &       775  &\bftab 198  &       331  &\bftab 204  &       350  \\
 RV32IMC & \ISE{2} & (L) &\bftab 221  &       301  &\bftab 222  &       303  &\bftab 198  &       302  &       335  &       616  \\
 RV32IMC & \ISE{2} & (A) &\bftab 221  &       538  &\bftab 222  &       540  &\bftab 198  &       332  &       335  &       754  \\
 RV32IMC & \ISE{3} &     &       238  &\bftab 291  &       238  &\bftab 286  &       219  &       312  &       659  &      1118  \\
 RV32IMC & \ISE{5} & (L) &       233  &       304  &       233  &       309  &       332  &       447  &       338  &       466  \\
 RV32IMC & \ISE{5} & (A) &       233  &       556  &       233  &       550  &       332  &       477  &       338  &       496  \\
\hline
\end{tabular}                
\end{adjustbox}

\begin{adjustbox}{center,caption={Execution metrics
                                  for each ISE variant on the \CORE{1} core.
                                  Note that the $64$-bit \ISE{4} uses the $64$-bit \CORE{1} core; all others use the $32$-bit \CORE{1} core.
                                 },label={tab:eval:sw:perf:1},float={table}[!p]}
\centering
\begin{tabular}{|c|c@{\;}c|rr|rr|rr|rr|}
\hline
  \multicolumn{1}{|c|}{ISA}
& \multicolumn{1}{ c }{Variant}
& \multicolumn{1}{ c|}{(Goal)}
& \multicolumn{2}{ c|}{$\ALG{Enc}$}
& \multicolumn{2}{ c|}{$\ALG{Dec}$}
& \multicolumn{2}{ c|}{$\ALG{Enc-KeyExp}$}
& \multicolumn{2}{ c|}{$\ALG{Dec-KeyExp}$}
\\
\cline{4-11}
&
&
& \multicolumn{1}{ c|}{iret}
& \multicolumn{1}{ c|}{cycles}
& \multicolumn{1}{ c|}{iret}
& \multicolumn{1}{ c|}{cycles}
& \multicolumn{1}{ c|}{iret}
& \multicolumn{1}{ c|}{cycles}
& \multicolumn{1}{ c|}{iret}
& \multicolumn{1}{ c|}{cycles}
\\
\hline
\hline
%RV32IMC & Byte    &     &            &            &            &            &            &            &            &            \\
 RV32IMC & T-table &     &       948  &      1143  &       949  &      1025  &       444  &       478  &      1726  &      1977  \\
 RV32IMC & \ISE{1} & (L) &       528  &       685  &       529  &       680  &\bftab 212  &       341  &\bftab 214  &\bftab 290  \\
 RV32IMC & \ISE{1} & (A) &       528  &       804  &       529  &       744  &\bftab 212  &       357  &\bftab 214  &       335  \\
 RV32IMC & \ISE{2} & (L) &\bftab 231  &\bftab 359  &\bftab 233  &       368  &\bftab 212  &\bftab 315  &       350  &       508  \\
 RV32IMC & \ISE{2} & (A) &\bftab 231  &       511  &\bftab 233  &       520  &       212  &       345  &       350  &       646  \\
 RV32IMC & \ISE{3} &     &       253  &       445  &       254  &       445  &       233  &       470  &       674  &      2425  \\
 RV32IMC & \ISE{5} & (L) &       243  &       414  &       244  &\bftab 319  &       346  &       427  &       348  &       424  \\
 RV32IMC & \ISE{5} & (A) &       243  &       585  &       244  &       543  &       346  &       504  &       348  &       454  \\
\hline
 RV64IMC & \ISE{4} &     &        81  &       119  &        82  &       125  &        66  &       204  &       136  &       306  \\
\hline
\end{tabular}
\end{adjustbox}

% -----------------------------------------------------------------------------

\begin{adjustbox}{center,caption={Comparison of improvement per unit-area 
                                  for each ISE variant. 
                                 },label={tab:eval:results},float={table}[!t]}
\centering
\begin{tabular}{|c|c@{\;}c|rr|rr|rr|rr|}
\hline
  \multicolumn{1}{|c|}{ISA}
& \multicolumn{1}{ c }{Variant}
& \multicolumn{1}{ c|}{(Goal)}
& \multicolumn{2}{ c|}{$\ALG{Enc}$}
& \multicolumn{2}{ c|}{$\ALG{Dec}$}
& \multicolumn{2}{ c|}{$\ALG{Enc-KeyExp}$}
& \multicolumn{2}{ c|}{$\ALG{Dec-KeyExp}$}
\\
\cline{4-11}
&
&
& \multicolumn{1}{ c|}{iret}
& \multicolumn{1}{ c|}{cycles}
& \multicolumn{1}{ c|}{iret}
& \multicolumn{1}{ c|}{cycles}
& \multicolumn{1}{ c|}{iret}
& \multicolumn{1}{ c|}{cycles}
& \multicolumn{1}{ c|}{iret}
& \multicolumn{1}{ c|}{cycles}
\\
\hline
\hline
RV32IMC & \ISE{1} & (L) &       4.61  &       4.34  &       4.61  &       4.35  &       5.39  &       6.06  &      20.50  &      18.12   \\
RV32IMC & \ISE{1} & (A) &       7.37  &       5.46  &       7.37  &       5.44  &       8.61  &       6.40  &\bftab32.74  &\bftab25.63   \\
RV32IMC & \ISE{2} & (L) &      10.58  &       8.38  &      10.53  &       8.53  &       5.28  &       4.30  &      12.22  &       8.92   \\
RV32IMC & \ISE{2} & (A) &      27.18  &      12.04  &      27.06  &      12.29  &      13.56  &      10.04  &      31.39  &      18.73   \\
RV32IMC & \ISE{3} &     &\bftab30.12  &\bftab26.56  &\bftab30.12  &\bftab27.71  &\bftab14.63  &\bftab12.76  &      19.04  &      15.08   \\
RV32IMC & \ISE{5} & (L) &       8.64  &       7.14  &       8.64  &       7.20  &       2.71  &       2.50  &      10.43  &      10.15   \\
RV32IMC & \ISE{5} & (A) &      18.48  &       8.35  &      17.64  &       8.30  &       5.79  &       5.01  &      22.29  &      20.40   \\
\hline
RV64IMC & \ISE{4} &     &      12.32  &       9.04  &      12.17  &       8.82  &       6.76  &       2.72  &      12.85  &       7.67   \\
\hline
\end{tabular}
\end{adjustbox}

% =============================================================================
